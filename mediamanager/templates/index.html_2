<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Media Management</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"> <!-- Font Awesome -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script>
        $(document).ready(function() {
            // Function to close the welcome panel and fetch new content from /start
            $("#close-welcome").click(function() {
                // Hide the welcome panel
                $("#welcome-panel").hide();

                // Get the directory from the currentdir element
                var directory = $("#currentdir").text();

                // POST request to /start with the directory parameter
                $.post("/start", { directory: directory }, function() {
                    $("#content-area").html("CONTENT");
                });
            });
        });
    </script>
</head>
<body>
    <nav class="navbar navbar-light bg-light" style="border-radius: 15px;">
        <a class="navbar-brand" href="#">Media Management</a>
        <!-- Grouped Directory Spans -->
        <div class="ml-3">
            <span>Directory:</span>
            <span id="currentdir">/mnt/c</span> <!-- Displaying the current directory -->
        </div>
        <div class="form-inline">
            <input class="form-control mr-2" type="search" placeholder="Search">
            <button class="btn btn-outline-success"><i class="fas fa-search"></i> Search</button> <!-- Font Awesome Icon -->
            <button class="btn btn-danger ml-3" onclick="window.location.href='/logout'"><i class="fas fa-door-open"></i> Logout</button> <!-- Font Awesome Icon -->
        </div>
    </nav>

    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <!-- Welcome panel with close button -->
                <div id="welcome-panel" class="card" style="border-radius: 15px; background-color: #f0f8ff;">
                    <div class="card-body">
                        <h3>Welcome, {{ username }}!</h3>
                        <p>You are logged in as {{ username }}.</p>
                        <button id="close-welcome" class="btn btn-danger float-right" style="border-radius: 15px;">
                            &times;
                        </button>
                    </div>
                </div>

                <!-- Content area to be updated -->
                <div id="content-area" class="card mt-3" style="border-radius: 15px; background-color: #f0f8ff;">
                    <div class="card-body">
                        <p>Initial content goes here.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>

